<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Art Gallery</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <?!= include('styles'); ?>
</head>
<body>
  <div id="app">
    <!-- Header -->
    <header class="header">
      <div class="container header-content">
        <a href="?path=home" class="logo">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="13.5" cy="6.5" r=".5" fill="currentColor"/>
            <circle cx="17.5" cy="10.5" r=".5" fill="currentColor"/>
            <circle cx="8.5" cy="7.5" r=".5" fill="currentColor"/>
            <circle cx="6.5" cy="12.5" r=".5" fill="currentColor"/>
            <path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.555C21.965 6.012 17.461 2 12 2z"/>
          </svg>
          <span id="gallery-name">Art Gallery</span>
        </a>
        <nav class="nav">
          <a href="?path=home" class="nav-link">Home</a>
          <a href="?path=browse" class="nav-link">Browse</a>
          <div id="user-nav"></div>
        </nav>
      </div>
    </header>

    <!-- Main Content -->
    <main id="main-content" class="main">
      <div class="container">
        <div class="loading">Loading...</div>
      </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
      <div class="container">
        <p>Powered by VFA Gallery</p>
      </div>
    </footer>
  </div>

  <!-- Templates -->
  <template id="home-template">
    <div class="hero">
      <h1>Welcome to <span id="hero-gallery-name"></span></h1>
      <p>Showcasing student artwork</p>
    </div>
    <section class="section">
      <h2>Featured Work</h2>
      <div id="featured-grid" class="artwork-grid"></div>
    </section>
  </template>

  <template id="artwork-card-template">
    <div class="artwork-card">
      <div class="artwork-image">
        <img src="" alt="" loading="lazy">
      </div>
      <div class="artwork-info">
        <h3 class="artwork-title"></h3>
        <p class="artwork-artist"></p>
      </div>
    </div>
  </template>

  <template id="upload-template">
    <div class="upload-form">
      <h2>Upload Artwork</h2>
      <form id="upload-form">
        <div class="form-group">
          <label for="artwork-file">Image</label>
          <input type="file" id="artwork-file" accept="image/*" required>
        </div>
        <div class="form-group">
          <label for="artwork-title">Title</label>
          <input type="text" id="artwork-title" placeholder="Untitled" maxlength="100">
        </div>
        <div class="form-group">
          <label for="artwork-description">Description (optional)</label>
          <textarea id="artwork-description" rows="3" maxlength="500"></textarea>
        </div>
        <button type="submit" class="btn btn-primary">Upload</button>
      </form>
    </div>
  </template>

  <template id="admin-template">
    <div class="admin-dashboard">
      <h1>Admin Dashboard</h1>
      <div class="admin-sections">
        <section class="admin-section">
          <h2>Classes</h2>
          <button id="new-class-btn" class="btn btn-primary">New Class</button>
          <div id="classes-list"></div>
        </section>
      </div>
    </div>
  </template>

  <script>
    // Pass server data to client
    const initialPath = '<?= initialPath ?>';
    const currentUser = <?= JSON.stringify(user) ?>;
  </script>
  <?!= include('scripts'); ?>
</body>
</html>
